<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
</head>
<body>
	<p>
		View: <strong id="pes">0</strong><br>
		suhu: <strong id="temp1">0</strong><br>
		hum: <strong id="hum2">0</strong>
	</p>
	<script>
		function liveUpdateJumlah (){
			const textViewCount = document.getElementById('pes');

			setInterval(function () {
				fetch('view.php').then(function (response) {
					return response.json();

				}).then(function (data) {
					textViewCount.textContent = data.pes;
				}).catch(function (error) {
					console.log(error);
				});

			}, 2000)
		}
		
		function liveUpdateHum (){
			const textViewHum = document.getElementById('hum2');

			setInterval(function () {
				fetch('hum.php').then(function (response) {
					return response.json();

				}).then(function (hum1) {
					textViewHum.textContent = hum1.hum2;
				}).catch(function (error) {
					console.log(error);
				});

			}, 2000)
		}


		document.addEventListener('DOMContentLoaded', function(){

			liveUpdateJumlah();
			// liveUpdateSuhu();
			liveUpdateHum();

		});
	</script>
	<script >
		
		function liveUpdateSuhu (){
			const textViewSuhu = document.getElementById('temp1');

			setInterval(function () {
				fetch('suhu.php').then(function (response) {
					return response.json();

				}).then(function (suhu1) {
					textViewSuhu.textContent = suhu1.temp1;
				}).catch(function (error) {
					console.log(error);
				});

			}, 2000)
		}
		document.addEventListener('DOMContentLoaded', function(){
			liveUpdateSuhu();

		});
	</script>
</body>
</html>